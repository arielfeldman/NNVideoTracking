# Applications

  The Background Subtraction behavioral video tracking methodology does not provide as much information as the later solution, nor is it robust to occlusion by wired implants. This program assumes a wireless implant, and is ideal for experiments using such solely interested in the approximate head location of the rodent. For other uses, please see the other implementation.

# Methods

  The first step in implementing the bifurcation technique is to train a stable background model and to subtract it from the foreground. Within the foreground should be only the rat’s body; however, due to noise and camera adjustments, to ensure that only the rat’s body is being accounted for in the foreground we assign the name ‘ratBlob’ to the largest object in the foreground, assuming that the noise caused by camera adjustments and background training are typically smaller that the rat itself (though this is not always the case). During experiments on which this program may be used, rats should be the only actively moving object in the camera frame (i.e. stagnant environment, only one rodent at a time). Thus, isolating the foreground from the background should be a valid method to separate the rat from the open field. 

  Multiple heuristic based tracking algorithms were explored, centroid tracker, bifurcation head tracker, linear regression based head tracker (not discussed here). For the first video tracking implementation, in which the center of the rat is the location of the tracker, the centroid of the foreground is found in each frame and is thus made the location of the tracker. The position of the tracker (and thus the center of the rat) is recorded in each frame for later error metrics.

  In order to implement the bifurcation tracking technique, the foreground containing only the rat shall be split into two halves by a black line passing through the center of the rat, with a slope perpendicular to the angle between the major axis of ‘ratBlob’ and the horizontal axis. This angle shall be referred to as ‘orient_ratBlob’. At this stage, the foreground must be re-labelled in order to separate the rat halves into two separate foreground objects. Now, each of the two halves must once again be halved by black lines passing through their respective centers with a slope equivalent to that of ‘orient_ratBlob’, and the foreground must be re-labelled again, in order to bifurcate the rat object completely into quarters.

  The bifurcation program built is, by nature, user-assisted, and relies on an initial click by a user in the general head location in order to determine head location in consequent frames. The program checks the distance between the center of the two quarters in each half from the center of the initial ratBlob. The two furthest quarters, representative of the head and tail of the rat, are compared to either the click location in the frame (first frame after click only) or the head location in the previous frame (all frames after a click), and the quarter with the smallest distance from one of the aforementioned locations becomes the next tracker location. As the two quarters being considered are on opposing sides of the rat, and the two more medial quarters are ignored, there is a smaller chance of the program choosing the wrong quarter as the head location than if all the quarters were checked due to the unpredictable, non-linear movement of the rat.
The error metric used was an absolute distance error from the groundtruth head location to the head tracker and centroid tracker.
